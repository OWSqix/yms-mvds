<div class="mat-card-header" mat-dialog-title>
  <mat-icon class="mat-card-avatar-icon">view_timeline</mat-icon>
  <div class="mat-card-header-text">
    <div class="mat-card-title">
      {{ 'catalog_browser_page.fetch' | translate }}
    </div>
    <div class="mat-card-subtitle">
      {{ 'catalog_browser_page.endpoint_catalogs' | translate }}
    </div>
  </div>
</div>

<div mat-dialog-content>
  <ul *ngIf="data?.requests?.length; else noRequests">
    <li *ngFor="let request of data?.requests">
      <div class="url-text">{{ request.url }}</div>
      <ul>
        <li *ngIf="!request.data.isError" class="success-state">
          {{ request.data.state }}
        </li>
        <li *ngFor="let errorMessage of errorMessages(request.data)" class="error-state">
          {{ errorMessage }}
        </li>
      </ul>
    </li>
  </ul>
  <ng-template #noRequests>
    <div class="empty-state">
      <mat-icon>info_outline</mat-icon>
      <p>{{ 'catalog_browser_page.no_requests' | translate }}</p>
    </div>
  </ng-template>
</div>

<div mat-dialog-actions>
  <button mat-button [mat-dialog-close]="null">
    {{ 'general.close' | translate }}
  </button>
  <button mat-flat-button color="primary" (click)="dialogData.refresh()">
    <mat-icon>refresh</mat-icon>
    {{ 'general.refresh' | translate }}
  </button>
</div>
