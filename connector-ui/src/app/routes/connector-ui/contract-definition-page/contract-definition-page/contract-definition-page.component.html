<div id="wrapper">
  <!-- Page Title -->
  <h2>{{ 'contract_definition_page.title' | translate }}</h2>
  
  <!-- Search and Create Card -->
  <mat-card class="search-create-card">
    <!-- Search and Create Section -->
    <div class="search-create-container">
      <!-- Search Bar (80%) -->
      <mat-form-field
        class="search-form-field"
        color="accent">
        <mat-label>{{ 'contract_agreement_page.search_def' | translate }}</mat-label>
        <input matInput [formControl]="searchText" />
        <mat-icon matPrefix>search</mat-icon>
        <button
          *ngIf="searchText.value"
          mat-icon-button
          matSuffix
          (click)="searchText.setValue('')">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>

      <!-- Create Button (20%) -->
      <button
        id="create-button"
        color="primary"
        mat-raised-button
        class="create-contract-button"
        (click)="onCreate()">
        <mat-icon>add_circle_outline</mat-icon>
        <span class="button-text">{{ 'contract_agreement_page.create_def' | translate }}</span>
        <span class="button-text-mobile">{{ 'general.create' | translate }}</span>
      </button>
    </div>
  </mat-card>

  <!-- Results Section -->
  <div class="results-section">
    <!-- Paginator -->
    <div class="pagination-container" *ngIf="contractDefinitionList.isReady && contractDefinitionList.data.numTotalContractDefinitions">
      <mat-paginator
        [hidePageSize]="true"
        [disabled]="true"
        [pageSize]="contractDefinitionList.data.contractDefinitionCards.length"
        [length]="contractDefinitionList.data.numTotalContractDefinitions"
        class="paginator-styled">
      </mat-paginator>
    </div>

    <div class="content-container">
      <loading-state
        *ngIf="contractDefinitionList.isLoading"
        class="state-container"></loading-state>
      <error-state
        *ngIf="contractDefinitionList.isError"
        class="state-container"
        [error]="contractDefinitionList.errorOrUndefined"></error-state>
      <empty-state
        *ngIf="
          contractDefinitionList.isReady &&
          (!contractDefinitionList.data.numTotalContractDefinitions ||
            !contractDefinitionList.data.contractDefinitionCards.length)
        "
        class="state-container"
        [emptyMessage]="'contract_agreement_page.con_def' | translate"></empty-state>
      
      <div
        *ngIf="contractDefinitionList.isReady && !!contractDefinitionList.data.numTotalContractDefinitions"
        class="contracts-grid">
        <contract-definition-cards
          [contractDefinitionCards]="contractDefinitionList.data.contractDefinitionCards"
          [deleteBusy]="deleteBusy"
          (deleteDone)="refresh()"
          class="contract-cards-container"></contract-definition-cards>
      </div>
    </div>
  </div>
</div>
