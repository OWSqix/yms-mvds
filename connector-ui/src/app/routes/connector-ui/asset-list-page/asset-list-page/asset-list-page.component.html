<div id="wrapper">
  <!-- Mobile: Stack vertically, Desktop: Horizontal layout -->
  <div class="flex flex-col lg:flex-row gap-4 lg:!space-x-[10px] lg:space-y-0 items-stretch lg:items-start">
    
    <!-- Search and Create Section -->
    <div class="flex flex-col sm:flex-row gap-4 flex-grow items-stretch">
      <!-- Search Bar -->
      <mat-form-field
        class="search-form-field flex-grow"
        appearance="outline"
        color="primary">
        <mat-label>{{ 'asset_list_page.search_assets' | translate }}</mat-label>
        <input matInput [(ngModel)]="searchText" (input)="onSearch()" />
        <mat-icon matPrefix>search</mat-icon>
        <button
          *ngIf="searchText"
          mat-icon-button
          matSuffix
          (click)="searchText = ''; onSearch()">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>

      <!-- Create Button -->
      <button
        id="create-button"
        color="primary"
        mat-raised-button
        class="!min-h-[56px] sm:!min-h-[44px] !px-6 whitespace-nowrap"
        (click)="onCreate()">
        <div class="flex justify-center items-center h-full gap-2">
          <mat-icon>add_circle_outline</mat-icon>
          <span class="hidden sm:inline">{{ 'asset_list_page.create_asset' | translate }}</span>
          <span class="sm:hidden">{{ 'general.create' | translate }}</span>
        </div>
      </button>
    </div>

    <!-- Paginator - Mobile: Full width, Desktop: Aligned right -->
    <div class="w-full lg:w-auto flex justify-center lg:justify-end">
      <mat-paginator
        *ngIf="assetList.isReady"
        [hidePageSize]="true"
        [disabled]="true"
        [pageSize]="assetList.data.numTotalAssets"
        [length]="assetList.data.filteredAssets.length"
        class="!p-0">
      </mat-paginator>
    </div>
  </div>

  <div class="flex flex-row justify-center">
    <loading-state
      *ngIf="assetList.isLoading"
      class="min-h-[35rem]"></loading-state>
    <error-state
      *ngIf="assetList.isError"
      class="min-h-[35rem]"
      [error]="assetList.errorOrUndefined"></error-state>
    <empty-state
      *ngIf="
        assetList.isReady &&
        (!assetList.data.numTotalAssets ||
          !assetList.data.filteredAssets.length)
      "
      class="min-h-[35rem]"
      [emptyMessage]="'asset_list_page.no_assets' | translate"></empty-state>
  </div>

  <div class="flex flex-row flex-wrap">
    <asset-cards
      *ngIf="assetList.isReady && !!assetList.data.numTotalAssets"
      [assets]="assetList.data.filteredAssets"
      (assetClick)="onAssetClick($event)"></asset-cards>
  </div>
</div>
